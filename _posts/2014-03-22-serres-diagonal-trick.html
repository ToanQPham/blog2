---
layout: post
title: Serre's diagonal trick
date: 2014-03-22 22:36:16.000000000 +01:00
type: post
published: true
status: publish
categories:
- math
tags: []
meta:
author: Pieter Belmans
---
<p>A while ago (last summer, I guess) I came across the phrase <em>Serre's diagonal trick</em> in the article <a href="http://arxiv.org/abs/1003.4201">Hochschild (co)homology of schemes and with tilting object</a>, by Ragnar Buchweitz and Lutz Hille. This terminology really intrigued me, as I couldn't understand back then what it actually meant just from the notation, nor did I have the background to know what it was.</p>
<p>In the article the trick is described as</p>
<blockquote><p>
[...] the identification of functors $latex \mathbf{L}\Delta^*(-\boxtimes-)\cong-\otimes_X^{\mathbf{L}}-$.
</p></blockquote>
<p>At the end of this post I hope this will make some more sense.</p>
<p>One of the many master pieces of Jean-Pierre Serre is his Algèbre locale. In this book from 1965, based on lectures he gave in 1957&ndash;1958, the algebraic aspects of intersection theory are treated in a really nice way. The first paragraph in section V.B) is titled <em>La réduction à la diagonale</em>, and in it we read</p>
<blockquote><p>Soient $latex k$ un corps commutatif algébriquement clos, $latex U$ and $latex V$ deux ensembles algébriques de l'espace affine $latex \mathbb{A}_k^n\cong k^n$, et $latex \Delta$ la diagonale de l'espace produit $latex \mathbb{A}_k^n\times\mathbb{A}_k^n\cong\mathbb{A}_k^{2n}$. Alors $latex \Delta$ est évidemment isomorphe à $latex \mathbb{A}_k^n$ et l'isomorphisme identifie $latex (U\times V)\cap\Delta$ à $latex U\cap V$. Les "géomètres" se servent couramment de cette situation pour ramener l'étude de l'intersection de $latex U$ et $latex V$ à l'étude de l'intersection d'un ensemble algébrique avec une variété linéaire.</p></blockquote>
<p>If anyone can tell me about an earlier reference to the diagonal trick, please do. The remainder of the paragraph explains the actual workings of the trick. Algebraically speaking the intersection is described by the fiber product (or tensor product) $latex A/\mathfrak{p}\otimes_A A/\mathfrak{q}$. But we can obtain the isomorphism</p>
<p>(1) $latex A/\mathfrak{p}\otimes_A A/\mathfrak{q}\cong \left( A/\mathfrak{p}\otimes_k A/\mathfrak{q} \right)\otimes_{A\otimes_kA}A$</p>
<p>So it seems like we have replaced our original tensor product by a more difficult tensor product, as the base ring over which we tensor seems more complicated. Remark that on the right we have identified $latex A$ with the diagonal inside $latex A\otimes_kA$ (which is the ring of regular functions on the product of our ambient variety with itself).</p>
<p>But to compute the intersection multiplicity Serre has previously shown that one needs to compute the derived functors of the tensor product. Using this isomorphism we have a good way of computing this: if we work in a sufficiently nice ambient variety (i.e. take $latex A=k[x_1,\dotsc,x_n]$ we have a truly obvious way of finding a free resolution of the factor $latex A$ in this tensor product, we take the <a href="http://en.wikipedia.org/wiki/Koszul_complex">Koszul complex</a>! In some sense we take consecutive hyperplane sections, which is a rather easy thing to do.</p>
<p>So what is sometimes called <em>Serre's diagonal trick</em> is better known as <em>reduction to the diagonal</em>.</p>
<p>The interpretation of the identification of those two functors remains. The left-hand side of (1) corresponds to $latex -\otimes_X^{\mathbf{L}}-$: we have replaced the tensor product (of which we wish to compute the Tor's) by the derived tensor product (the object whose cohomologies are exactly those Tor's), which in the philosophy of derived categories is the correct thing to do. So remains to interpret $latex \mathbf{L}\Delta^*(-\boxtimes-)$. The funny product $latex \boxtimes$ is given by $latex p^*(-)\otimes_X^{\mathbf{L}} q^*(-)$, where $latex p$ and $latex q$ are the projections $latex p,q\colon X\times X\to X$. So this computes the product of the intersecting subvarieties inside $latex X\times X$. Then $latex \mathbf{L}\Delta^*$ is the base change to the diagonal, which is isomorphic to $latex X$. Hence we obtain something on $latex X$, which will represent the intersection we are trying to compute. So the identification of functors is just a fancy way of writing the isomorphism of algebras (1) in terms of derived categories.</p>
<p>This trick also pops up in the context of exceptional collections on $latex \mathbb{P}_k^n$, a subject I might write about later.</p>
