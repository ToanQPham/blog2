---
layout: post
title: Adding an equation to the table of contents
type: post
categories:
- LaTeX
author: Pieter Belmans
---
<p>Next week I'll be giving a lecture on spectral sequences in algebraic geometry, and in the notes I'm preparing I wanted to put the spectral sequence below the title of the corresponding section in the table of contents. The <code>\addcontentsline</code> command was known to me, but <code>\addtocontents</code> wasn't, and there is one caveat in using it: you need to make sure you put <code>\par</code> at the end of the what you are adding (if it is actual text), forcing the next item to get its own paragraph.

<p>So the macro
{% highlight latex %}
\newcommand\tocequation[1]{\addtocontents{toc}{\vspace{.7em}#1\par}}
{% endhighlight %}

<p>does the trick (change the vertical spacing to your liking), and using it just requires to say <code>\tocequation{$a^2+b^2=c^2$}</code> after the corresponding <code>\section</code>. A small excerpt of the result is

<p><img src="{{ site.baseurl }}/assets/toc.png" alt="Table of contents containing an equation" />

<p>The final results will be posted somewhere next week. I'll be posting a follow-up blogpost on some nitpickery regarding the notation for ÄŒech cohomology later.
